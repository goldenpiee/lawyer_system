@startuml UseCaseDiagram
left to right direction
skinparam packageStyle rectangle

actor Клиент as client
actor Юрист as lawyer
actor Система as system #LightGray

rectangle "Система онлайн-записи к юристу" {
  client -- (Просмотр информации об услугах)
  client -- (Просмотр календаря юриста)
  client -- (Регистрация)
  client -- (Авторизация)
  client -- (Восстановление пароля)
  client -- (Выбор слота и создание заявки)
  client -- (Просмотр своих записей)
  client -- (Отмена своей записи)
  client -- (Редактирование профиля клиента)

  (Регистрация) .> (Отправка Email-подтверждения) : <<include>>
  (Отправка Email-подтверждения) -- system
  (Создание заявки на запись) .> (Отправка Email о новой заявке юристу) : <<include>>
  (Отправка Email о новой заявке юристу) -- system
  (Создание заявки на запись) ..> (Авторизация) : <<extend>> (Если не авторизован)

  lawyer -- (Авторизация в панели)
  lawyer -- (Управление расписанием)
  lawyer -- (Управление записями клиентов)
  lawyer -- (Управление профилем юриста)
  lawyer -- (Просмотр списка клиентов)
  (Управление расписанием) ..> (Генерация слотов) : <<include>>
  (Управление расписанием) ..> (Добавление/Удаление слота) : <<include>>
  (Управление расписанием) ..> (Блокировка времени) : <<include>>
  (Управление записями клиентов) ..> (Подтверждение заявки) : <<include>>
  (Управление записями клиентов) ..> (Отклонение заявки) : <<include>>
  (Управление записями клиентов) ..> (Отметка о завершении) : <<include>>

  (Подтверждение заявки) .> (Отправка Email клиенту о подтверждении) : <<include>>
  (Отправка Email клиенту о подтверждении) -- system
  (Отклонение заявки) .> (Отправка Email клиенту об отклонении) : <<include>>
  (Отправка Email клиенту об отклонении) -- system

  system -- (Отправка Email-напоминания о консультации)
  (Отправка Email-напоминания о консультации) .up.> (Просмотр своих записей) : <<extend>> (Для подтвержденных)
}
@enduml